<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creator Coin Spin Game</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='futuristic-styles.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
</head>
<body>
    <div class="game-container">
        <!-- Header -->
        <header class="game-header">
            <div class="header-content">
                <h1 class="game-title">üöÄ Creator Coin Spin</h1>
                <div class="wallet-section">
                    <button id="connectWallet" class="connect-btn">Connect Wallet</button>
                    <div id="walletInfo" class="wallet-info" style="display: none;">
                        <span id="walletAddress"></span>
                        <span id="tokenBalance">0 CC</span>
                    </div>
                </div>
            </div>
        </header>

        <!-- Player Stats -->
        <div class="player-stats" id="playerStats" style="display: none;">
            <div class="stat-card">
                <div class="stat-icon">‚≠ê</div>
                <div class="stat-info">
                    <div class="stat-label">Level</div>
                    <div class="stat-value" id="playerLevel">1</div>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üî•</div>
                <div class="stat-info">
                    <div class="stat-label">Streak</div>
                    <div class="stat-value" id="playerStreak">0</div>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üí∞</div>
                <div class="stat-info">
                    <div class="stat-label">Total Won</div>
                    <div class="stat-value" id="totalWon">0</div>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üéØ</div>
                <div class="stat-info">
                    <div class="stat-label">XP</div>
                    <div class="stat-value" id="playerXP">0</div>
                </div>
            </div>
        </div>

        <!-- Spin Wheel Section -->
        <div class="spin-section">
            <div class="wheel-container">
                <canvas id="wheelCanvas" width="400" height="400"></canvas>
                <button id="spinButton" class="spin-btn" disabled>
                    <span class="spin-text">SPIN</span>
                    <span class="spin-cost">Free Daily Spin</span>
                </button>
            </div>
        </div>

        <!-- Results Display -->
        <div id="resultDisplay" class="result-display" style="display: none;">
            <div class="result-content">
                <div class="result-icon">üéâ</div>
                <div class="result-text">
                    <h3 id="resultTitle">Congratulations!</h3>
                    <p id="resultMessage">You won tokens!</p>
                </div>
                <div class="result-rewards">
                    <div class="reward-item">
                        <span class="reward-label">Tokens:</span>
                        <span class="reward-value" id="rewardTokens">0</span>
                    </div>
                    <div class="reward-item">
                        <span class="reward-label">XP:</span>
                        <span class="reward-value" id="rewardXP">0</span>
                    </div>
                </div>
                <button id="closeResult" class="close-btn">Continue</button>
            </div>
        </div>

        <!-- Achievements -->
        <div class="achievements-section">
            <h3>üèÜ Achievements</h3>
            <div id="achievementsList" class="achievements-list">
                <!-- Achievements will be populated by JavaScript -->
            </div>
        </div>

        <!-- Social Features -->
        <div class="social-section">
            <h3>üì± Share & Earn</h3>
            <div class="social-buttons">
                <button class="social-btn telegram" onclick="shareToTelegram()">
                    üì± Share on Telegram (+100 CC)
                </button>
                <button class="social-btn twitter" onclick="shareToTwitter()">
                    üê¶ Share on Twitter (+100 CC)
                </button>
            </div>
            <div class="referral-section">
                <h4>üë• Referral Code</h4>
                <div class="referral-code">
                    <input type="text" id="referralCode" readonly>
                    <button onclick="copyReferralCode()">Copy</button>
                </div>
            </div>
        </div>

        <!-- Leaderboard -->
        <div class="leaderboard-section">
            <h3>üèÜ Leaderboard</h3>
            <div id="leaderboard" class="leaderboard">
                <!-- Leaderboard will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay" style="display: none;">
        <div class="loading-spinner"></div>
        <div class="loading-text">Processing...</div>
    </div>

    <script src="{{ url_for('static', filename='futuristic-game.js') }}"></script>
    <script type="module">
        import { Analytics } from '@vercel/analytics';
        Analytics.track('game_loaded');
    </script>
</body>
</html>
